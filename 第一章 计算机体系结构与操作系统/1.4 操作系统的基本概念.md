# 1.4 操作系统的基本概念

## 1.4.1 操作系统的定义和作用

计算机系统由硬件和软件组成，硬件主要包括处理器、存储器和各种输入/输出设备等，在现代计算机系统中运行的软件通常具体为一个个进程，磁盘上的数据存储为一个个文件。
操作系统的作用可以从用户和系统两个不同的角度来看：

1. 用户视角

概括地讲，操作系统通常为用户提供以下几方面的服务：

- 程序开发：为帮助程序员开发程序，操作系统通常提供各种工具，如编辑器和调试器。这些工具以应用程序的形式出现，严格来说**不属于操作系统核心的一部分**，但它们通常由操作系统软件提供，称为**应用程序开发工具**。
- 程序运行：运行一个程序需要很多步骤，包括把指令和数据加载到内存、初始化I/O设备、调度运行相关的资源等，操作系统为用户1处理这些问题。
- I/O设备访问：每个I/O设备的操作都有自身特有的指令和控制信号，操作系统为用户隐藏这些细节，提供给用户统一的接口。
- 文件访问：要访问文件就需要了解文件存储设备的特性（磁盘驱动器，磁带驱动器等）以及存储系统中文件数据的组织结构，操作系统替用户完成了这部分工作。另外，对多用户系统，操作系统还提供保护机制来控制用户对文件的访问。
- 系统资源的访问：操作系统管理着计算机系统中所有的资源，用户对某个特定系统资源的访问都会由操作系统中相应的功能模块来完成。访问功能模块提供对资源和数据的保护，以避免未授权用户的访问，并解决资源竞争时的冲突问题。
- 错误检测和响应：计算机系统在运行时可能发生各种各样的错误，如设备故障、存储器错误、计算溢出、应用程序的请求无法得到满足等。对每种情况，操作系统都要提供响应来处理错误，使其对正在运行的应用程序影响最小。
- 日志服务：操作系统可以收集系统中各种资源的利用率等统计数据，监控响应时间等性能参数，记录用户使用日志等。这些信息对于预测系统的运行状况，调整和改进系统功能，从而提高整个系统的性能都很有用处。

1. 系统视角

从计算机系统的角度来看，一台计算机就是一组硬件和软件资源的集合，操作系统作为这些资源的管理者而存在，负责对各种软硬件资源进行分配和管理。

- 计算机系统中的资源按照其作用可大致分为四类：处理器、存储器、I/O设备和文件（程序和数据）。对这四类资源的管理就是操作系统内核的主要功能。

## 1.4.2 操作系统的基本特征

### 1. **并发**

- 并发是操作系统**最重要的特征**，其他三个特征都是以并发为前提的。
- 并发和并行是两个概念：
并发是指两个或多个事件在**同一时刻**发生
并发是指两个或多个时间在同**一时间间隔内**发生。
可以说，并行是并发的特例，并发是并行的拓展
- 操作系统本身是一个并发的系统，操作系统的并发性是指他应该**具有处理和调度多个程序同时执行的能力**。发挥并发性能够解决计算机系统中部件和部件之间相互等待的问题，有效地改善系统资源的利用率，从而提高系统的运行效率。

### 2. **共享**

- 共享是指计算机系统中的软硬件资源可被**多个并发执行的进程共同使用**，而不是被一个进程所独占。
- 操作系统支持**并发**，则必然要支持**共享**，这两点是相互依存的，他们是**操作系统最基本的两个特征**。
- 资源共享的方式可以分成两种：**互斥共享方式** 和 **同时访问方式**
互斥共享方式是指，系统中的某些资源，如打印机，虽然他们可以提供给多个进程使用，但为使所打印的结果不混淆，在**同一时间内只允许一个进程访问该资源**。当一个进程使用该资源时，其他欲访问该资源的进程必须等待，**仅当该进程访问完毕并释放资源后，才允许另一资源对其进行访问**。  这种**同一时间内只允许一个进程访问的资源称为临界资源**，它们只能互斥地被共享。
同时访问方式是指，系统中还有另一类资源（如磁盘），**允许在一段时间内由多个进程“同时”对它们进行访问**。这里所谓“同时”往往是宏观上的，而在微观上，这些进程可能是交替地对该资源进行访问。

### 3. **虚拟**

虚拟是指把一个物理上的实体变为一个或多个逻辑上的对应物。操作系统通过虚拟技术对用户隐藏了硬件操作的复杂性，并对多个用户或多个程序提供了统一、便捷和高效的操作环境。
在操作系统中使用了多种虚拟技术，分别用来实现虚拟处理器，虚拟存储器和虚拟外部设备等。

- 虚拟处理器技术，即在多道程序系统中，通过多道程序和分时使用CPU技术，把一个物理上的CPU虚拟成多个逻辑上的CPU，使每个终端用户都认为有一个CPU在专门为自己服务。
- 虚拟存储器技术，即将计算机的物理外存虚拟为虚拟内存，从逻辑上扩充内存容量。
- 虚拟设备技术，即将一台I/O设备虚拟成若干台逻辑上的I/O设备，并允许每个用户占用一台逻辑上的I/O设备。

### 4. **异步**

异步性又称随机性或不确定性，异步是指在相同的计算机环境和初始条件下，在同一数据集上运行的同一程序每次执行的顺序和所需时间都不一定相同。异步提高了计算机系统的性能和灵活性但也带来了不少潜在危险，比如程序可能产生与时间有关的错去，程序运行结果变得不确定。现代操作系统都会提供某些机制，来保异步执行结果的正确性。

### 5. **安全性和可扩展性**

计算机系统的安全性包括系统中硬件设备物理安全和系统中信息资源的逻辑安全等。

- 逻辑安全主要指信息系统的可用性、完整性和保密性。

可扩展性是指系统适应变化的能力。对计算机系统来说，变化可分为两方面：

- 一是系统中软硬件资源类型的不断变化
- 二是同一种资源数量上的扩张
