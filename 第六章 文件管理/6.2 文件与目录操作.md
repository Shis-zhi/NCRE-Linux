# 6.2 文件与目录操作

## 6.2.1 文件操作命令

1. cat 命令
    cat命令可以用来显示文本文件的内容，也可以吧几个文件内容附加到另一个文件中，即连接、合并文件，cat的全称是concatenate（连接）。
    基本格式：

    ```shell
    cat [选项] 文件名
    ```

    或者

    ```shell
    cat 文件1 文件2 > 文件3
    ```

    在这两种格式中，前者用于显示文件内容，常用选项及各自含义如下；后者用于连接、合并文件。
    \-n：对输出的所有行进行编号。
    \-b：与-n不同，此选项表示只对非空行进行编号
    \-s：当遇到连续2行以上的空白行时，就替换为1行的空白行。

    当cat后面带多个参数时，cat就会依次将参数所表示的文件显示在显示屏上，从而将多个文件连接在一起，如果需要将连接后的文件生成一个新文件，使用 > 输出重定向符，就可以将连接后的文件保存在一个新文件中。

2. more 命令
    more命令可以分页显示文件文本的内容，使用户可以职业阅读文件中的内容。
    基本格式：

    ```shell
    more [选项] 文件名
    ```

    选项：
    \-c或\-p:不滚屏，先清屏后再显示内容。
    \-s:当遇到连续两行以上的空白行时，就替换为一行的空白行。
    \+n:从第n行开始显示文件内容，n代表数字。
    \-n:一次显示的行数，n代表数字。

3. head 命令
    head命令可以显示指定文件前若干行的内容，其基本格式如下：

    ```shell
    head [选项] 文件名
    ```

    选项：
    \-n k:k表示行数，该选项用于显示文件前k行的内容。
    \-c k:k表示字节数，该选项用于显示文件前k个字节的内容。
    \-v:显示文件名
    注：如果不设置显示的具体行数，则默认显示10行的文本数据。

4. tail 命令
    tail命令用于查看文件末尾的数据，其基本格式如下：

    ```shell
    tail [选项] 文件名
    ```

    选项：
    \-n k:k表示行数，该选项用于显示文件最后k行的内容。
    \-c k:k表示字节数，该选项用于显示文件最后k个字节的内容。
    \-f:输出文件变化后新增加的数据。
    注：如果不设置显示的具体行数，则默认显示10行的文本数据。

5. touch 命令
    touch命令可以用来创建文件（当指定操作文件不存在的时候），更重要的更能使修改文件的时间参数。
    在Linux系统中，每个文件主要拥有三个时间参数（通过stat命令进行查看），分别是文件的访问时间、数据修改时间以及状态修改时间。
    访问时间：只要文件内容被读取，访问时间就会更新。
    数据修改时间：当文件的内容数据发生改变，此文件的数据修改时间就会相应改变。
    状态修改时间：当文件的状态发生变化，就会相应的改变这个时间。

    ```shell
    touch [选项] 文件名 
    ```

    选项：
    \-a:只修改文件的访问时间。
    \-c:修改文件的时间参数（3个都改变），如果文件不存在，不会建立新文件。
    \-m:只修改文件的数据修改时间。
    \-t:该选项后面可以跟欲修订的时间，而不用目前的时间，时间格式为YYYYMMDDhhmm。
    由此可见，不可以只修改文件的状态修改时间。

6. grep 命令
    grep命令能够在一个或者多个文件中，搜索某一特性的字符模式（也就是正则表达式），此模式可以是单一的字符、字符串、单词或句子。正则表达式是描述一组字符串的一个模式，正则表达式的后塍模仿了数学表达式，通过使用操作符，将较小的表达式组合成一个新的表达式。
    正则表达式中特殊字符的含义如下：
    c * :将匹配0个或多个字符c
    . :将匹配任何一个字符，且只能是一个字符
    [xyz] :匹配方括号中的任何一个字符。
    [^xyz] :匹配除方括号中字符外的所有字符。
    ^:行首定位符
    $:行尾定位符

    grep命令的基本格式如下：

    ```shell
    grep [选项] 模式 文件名
    ```

    这里的模式，要么是字符（串），要么是正则表达式。此命令常用选项如下：
    \-F:将查找模式解释为单纯的字符串
    \-E:将查找模式解释成正则表达式
    \-c:仅列出文件中包含模式的行数
    \-i:忽略模式中的字母大小写
    \-n:在每一行的最前面列出行号
    \-v:列出没有匹配模式的行
    注：如果是搜索多个文件，grep命令的搜索结果只显示文件中发现匹配模式的文件名。

7. sed 命令
8. awk 命令
9. cp 命令
    cp命令主要用来复制文件和目录，同时借助某些选项还可以复制整个目录。
    cp命令的基本格式如下：

    ```shell
    cp [选项] 源文件 目标文件
    ```

    选项：
    \-a:相当于-d、-p、-r选项的集合
    \-d:如果源文件为软链接（对硬链接无效），则复制出的目标文件也为软链接
    \-i:询问，如果目标文件已经存在，则会询问是否覆盖
    \-l:把目标文件建立为源文件的硬链接文件，而不是复制源文件
    \-s:把目标文件建立为源文件的软链接文件，而不是复制源文件
    \-p:复制后目标文件保留源文件的属性（包括所有者、所属组、权限和时间）
    \-r:地柜复制，用于复制目录
    \-u:若目标文件与源文件有差异，则使用该选项可以更新目标文件，此选项可用于对文件的升级和备用。

10. rm 命令
    rm命令可以永久性地删除文件系统中指定的文件或目录。在使用rm命令删除文件或目录是，系统不会产生任何提示信息。
    此命令的基本格式为：

    ```shell
    rm [选项] 文件或目录
    ```

    选项：
    \-f:强制删除，系统将不再询问，而是直接删除目标文件或目录
    \-i:和\-f正好相反，再删除文件或目录之前，系统会给出提示信息
    \-r:地柜删除，主要用于删除目录，可删除指定目录及包含的所有内容，包括所有的子目录和文件。

11. mv 命令
    mv命令，既可以在不同的目录之间移动文件或目录，也可以对文件和目录进行重命名。
    该命令的基本格式如下：

    ```shell
    mv [选项] 源文件 目标文件
    ```

    选项：
    \-f:强制覆盖，如果目标文件已经存在，则不询问，直接覆盖
    \-i:交互移动，如果目标文件已经存在，则询问用户是否覆盖（默认选项）
    \-n:如果目标文件已经存在，则不会覆盖移动，而且不询问用户
    \-v:显示文件或目录的移动过程
    \-u:若目标文件已经存在，但两者相比，源文件更新，则会对目标文件进行升级

12. sort 命令
    sort将文件的每一行作为一个单位，相互比较。比较原则是从首字符向后依次按ASCII码值进行比较，最后将他们按升序输出。
    sort命令格式如下：

    ```shell
    sort [选项] 文件名
    ```

    选项；
    \-f:忽略大小写
    \-b:忽略每行前面的空白部分
    \-n:以数值型进行排序，默认使用字符串排序
    \-r:反向排序
    \-u:删除重复行，就是uniq命令
    \-t:指定分隔符，默认分隔符是制表符
    \-k [n,m]:按照指定的字段范围进行排序。从第n个字段开始，到第m个字段结束（默认到行尾）。

13. wc 命令
    wc命令是统计命令。
    命令格式如下：

    ```shell
    wc [选项] 文件名
    ```

    选项：
    \-l:只统计行数
    \-w:只统计单词数
    \-m:只统计字符数

## 6.2.2 目录操作命令

1. mkdir 命令
    mkdir命令用于创建新目录。
    基本格式为:

    ```shell
    mkdir [选项] 目录名
    ```

    选项：
    \-m:用于手动配置所创建目录的权限，而不再使用默认权限
    \-p:递归创建所有目录

2. rmdir 命令
    rmdir用于删除空目录。
    基本格式为：

    ```shell
    rmdir [-p] 目录名
    ```

3. cd 命令
    cd命令用来切换工作目录。
    基本格式：

    ```shell
    cd [相对路径或绝对路径]
    ```

    此外，cd命令后可以跟一些特殊符号，表达固定的含义i。
    |特殊符号|作用|
    |:--:|:--:|
    |~|代表当前登录用户的主目录|
    |-|代表上次所在目录|
    |.|代表当前目录|
    |..|代表上级目录|
4. pwd 命令
    pwd命令用于显示当前所在的目录。
    基本格式为：

    ```shell
    pwd
    ```

5. ls 命令
    主要功能是显示当前目录下的内容。
    基本格式为：

    ```shell
    ls [选项] 目录名称
    ```

    |选项|功能|
    |:--:|:--:|
    |-a|显示全部的文件，包括隐藏文件（开头为“.”的文件）|
    |-A|显示全部的文件，连同隐藏文件，但不包括“.”与“..”这两个目录|
    |-d|仅列出目录本身，而不列出目录内的文件数据|
    |-f|ls默认以文件名排序，此选项直接列出结果，不排序|
    |-F|在文件或目录后面加上文件类型的指示符号|
    |-h|以易读的方式显示文件或目录大小|
    |-i|显示inode信息|
    |-l|使用长格式列出文件和目录信息|
    |-n|以UID和GID分别代替文件用户名和群组名显示出来|
    |-r|将排序结果反向输出|
    |-R|连同子目录内容一起列出来|
    |-S|以文件容量大小排序|
    |-t|以时间排序|

6. ln 命令
    ln命令的基本格式如下：

    ```shell
    ln [选项] 源文件 目标文件
    ```
    
    选项：
    \-s:创建软链接文件，如果不加，则创建硬链接文件。
